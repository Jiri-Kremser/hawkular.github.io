
== APIs
=== Operations about alerts

====  `/`

Get alerts with optional filtering

Pagination is not yet implemented.

----
*GET* `/`
----

===== query parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |startTime|false|filter out alerts created before this time, millisecond since epoch|long
    |endTime|false|filter out alerts created after this time, millisecond since epoch|long
    |triggerIds|false|filter out alerts for unspecified triggers, comma separated list of trigger IDs|string
    |tags|false|filter out alerts for unspecified tags, comma separated list of tags, each tag of format [category|]name|string
|=======================

===== Response
[Collection&lt;Alert&gt;[org.hawkular.alerts.api.model.condition.Alert]](#Collection&lt;Alert&gt;[org.hawkular.alerts.api.model.condition.Alert])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/reload`

Reload all definitions into the alerts service

This service is temporal for demos/poc, this functionality will be handled internallybetween definitions and alerts services

----
*GET* `/reload`
----


===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/reload/{triggerId}`

Reload a specific trigger into the alerts service



----
*GET* `/reload/{triggerId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true||string
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

=== Operations for actions

====  `/actions/send`

Send an action to the ActionService.

ActionService should not be invoked directly. This method is for demo/poc purposes.

----
*POST* `/actions/send`
----

===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|false||<<Action,Action>>
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/actions/{actionId}`

Get an existing action

Action is represented as a map of properties.

----
*GET* `/actions/{actionId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionId|true|Action id to be retrieved|string
|=======================

===== Response
[Map&lt;String, String&gt;[java.lang.String]](#Map&lt;String, String&gt;[java.lang.String])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Update an existing action

Action properties are variable and depends on the action plugin. A user needs to request previously ActionPlugin API to get the list of properties to fill for a specific type. All actions should have actionId and actionPlugin as mandatory properties

----
*PUT* `/actions/{actionId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionId|true|action id to be updated|string
|=======================
===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Action properties. Properties depend of specific ActionPlugin.|<<UNKNOWN[string],UNKNOWN[string]>>
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Delete an existing action



----
*DELETE* `/actions/{actionId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionId|true|Action id to be deleted|string
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/actions/`

Find all action ids

Pagination is not yet implemented

----
*GET* `/actions/`
----


===== Response
[Collection[string]](#Collection[string])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Create a new action

Action properties are variable and depends on the action plugin. A user needs to request previously ActionPlugin API to get the list of properties to fill for a specific type. All actions should have actionId and actionPlugin as mandatory properties

----
*POST* `/actions/`
----

===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Action properties. Properties depend of specific ActionPlugin.|<<UNKNOWN[string],UNKNOWN[string]>>
|=======================

===== Response
[Map&lt;String, String&gt;[java.lang.String]](#Map&lt;String, String&gt;[java.lang.String])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/actions/plugin/{actionPlugin}`

Find all action ids of an specific action plugin

Pagination is not yet implemented

----
*GET* `/actions/plugin/{actionPlugin}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionPlugin|true|Action plugin to filter query for action ids|string
|=======================

===== Response
[Collection[string]](#Collection[string])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

=== Query operations for action plugins.

====  `/plugins/`

Find all action plugins

Pagination is not yet implemented

----
*GET* `/plugins/`
----


===== Response
[Collection&lt;String&gt;[java.lang.String]](#Collection&lt;String&gt;[java.lang.String])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/plugins/{actionPlugin}`

Find list of properties to fill for a specific action plugin

Each action plugin can have a different and variable number of properties. This method should be invoked before of a creation of a new action.

----
*GET* `/plugins/{actionPlugin}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionPlugin|true|Action plugin to query|string
|=======================

===== Response
[Collection&lt;String&gt;[java.lang.String]](#Collection&lt;String&gt;[java.lang.String])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

=== Create/Read/Update/Delete operations for Triggers definitions

====  `/triggers/tags`

Create a new trigger tag

Returns Tag created if operation finished correctly

----
*POST* `/triggers/tags`
----

===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Tag to be created|<<Tag,Tag>>
|=======================

===== Response
[Tag](#Tag)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/triggers/{triggerId}/dampenings/{dampeningId}`

Delete an existing dampening definition



----
*DELETE* `/triggers/{triggerId}/dampenings/{dampeningId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |dampeningId|true|Dampening id for dampening definition to be deleted|string
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Get an existing dampening



----
*GET* `/triggers/{triggerId}/dampenings/{dampeningId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |dampeningId|true|Dampening id|string
|=======================

===== Response
[Dampening](#Dampening)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Update an existing dampening definition



----
*PUT* `/triggers/{triggerId}/dampenings/{dampeningId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |dampeningId|true|Dampening id|string
|=======================
===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Updated dampening definition|<<Dampening,Dampening>>
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/triggers/{triggerId}/conditions`

Get a map with all conditions id an specific trigger.



----
*GET* `/triggers/{triggerId}/conditions`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
|=======================

===== Response
[Collection&lt;Condition&gt;[org.hawkular.alerts.api.model.condition.Condition]](#Collection&lt;Condition&gt;[org.hawkular.alerts.api.model.condition.Condition])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Create a new condition for a specific trigger



----
*POST* `/triggers/{triggerId}/conditions`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
|=======================
===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|false|Json representation of a condition|string
|=======================

===== Response
[Collection[Condition]](#Collection[Condition])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/triggers/{triggerId}/conditions/{conditionId}`

Get a condition for a specific trigger id.



----
*GET* `/triggers/{triggerId}/conditions/{conditionId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |conditionId|true||string
|=======================

===== Response
[Condition](#Condition)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Update an existing condition for a specific trigger



----
*PUT* `/triggers/{triggerId}/conditions/{conditionId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |conditionId|true||string
|=======================
===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|false|Json representation of a condition|string
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Delete an existing condition for a specific trigger



----
*DELETE* `/triggers/{triggerId}/conditions/{conditionId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |conditionId|true||string
|=======================

===== Response
[Collection&lt;Condition&gt;[org.hawkular.alerts.api.model.condition.Condition]](#Collection&lt;Condition&gt;[org.hawkular.alerts.api.model.condition.Condition])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/triggers/{triggerId}/tags`

Delete an existing trigger definition



----
*POST* `/triggers/{triggerId}/tags`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger id of tags to be deleted|string
|=======================
===== query parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |category|false|Category of tags to be deleted|string
    |name|false|Name of tags to be deleted|string
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Get tags for a trigger.



----
*GET* `/triggers/{triggerId}/tags`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger id for the retrieved Tags|string
|=======================
===== query parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |category|false|Category of tags to be retrieved|string
|=======================

===== Response
[Collection&lt;Tag&gt;[org.hawkular.alerts.api.model.trigger.Tag]](#Collection&lt;Tag&gt;[org.hawkular.alerts.api.model.trigger.Tag])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/triggers/`

Create a new trigger definitions. If trigger ID is null, a (likely) unique ID will be generated

Returns Trigger created if operation finished correctly

----
*POST* `/triggers/`
----

===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Trigger definition to be created|<<Trigger,Trigger>>
|=======================

===== Response
[Trigger](#Trigger)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Find all triggers definitions

Pagination is not yet implemented

----
*GET* `/triggers/`
----


===== Response
[Collection&lt;Trigger&gt;[org.hawkular.alerts.api.model.trigger.Trigger]](#Collection&lt;Trigger&gt;[org.hawkular.alerts.api.model.trigger.Trigger])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/triggers/{triggerId}`

Get an existing trigger definition



----
*GET* `/triggers/{triggerId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
|=======================

===== Response
[Trigger](#Trigger)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Update an existing trigger definition



----
*PUT* `/triggers/{triggerId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be updated|string
|=======================
===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Updated trigger definition|<<Trigger,Trigger>>
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Delete an existing trigger definition



----
*DELETE* `/triggers/{triggerId}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be deleted|string
|=======================

===== Response
[](#)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/triggers/{triggerId}/dampenings`

Get a list with all dampenings linked with a trigger.

Pagination is not yet implemented 

----
*GET* `/triggers/{triggerId}/dampenings`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
|=======================

===== Response
[Collection&lt;Dampening&gt;[org.hawkular.alerts.api.model.dampening.Dampening]](#Collection&lt;Dampening&gt;[org.hawkular.alerts.api.model.dampening.Dampening])

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


Create a new dampening

Returns Dampening created if operation finished correctly

----
*POST* `/triggers/{triggerId}/dampenings`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id attached to dampening|string
|=======================
===== body parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Dampening definition to be created|<<Dampening,Dampening>>
|=======================

===== Response
[Dampening](#Dampening)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================

====  `/triggers/{triggerId}/dampenings/mode/{triggerMode}`

Get a dampening using triggerId and triggerMode

Similar as getDampening(dampeningId)

----
*GET* `/triggers/{triggerId}/dampenings/mode/{triggerMode}`
----

===== path parameters

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |triggerMode|true|Trigger mode|<<org.hawkular.alerts.api.model.trigger.Trigger$Mode,org.hawkular.alerts.api.model.trigger.Trigger$Mode>>
|=======================

===== Response
[Dampening](#Dampening)

===== Status codes
[options="header"]
|=======================
| Status Code | Reason      | Response Model
|=======================


== Data Types

[[Action]]
=== Action
[options="header"]
|=======================
| name | type | required | access | description | notes
|message|string|optional|-|-|-
|actionId|string|optional|-|-|-
|=======================


[[Condition]]
=== Condition
[options="header"]
|=======================
| name | type | required | access | description | notes
|type|TypeType|optional|-|- Allowable values:AVAILABILITY, COMPARE, STRING, THRESHOLD, RANGE|-
|conditionId|string|optional|-|-|-
|triggerMode|ModeMode|optional|-|- Allowable values:FIRE, SAFETY|-
|triggerId|string|optional|-|-|-
|dataId|string|optional|-|-|-
|=======================


[[Dampening]]
=== Dampening
[options="header"]
|=======================
| name | type | required | access | description | notes
|dampeningId|string|optional|-|-|-
|type|TypeType|optional|-|- Allowable values:STRICT, RELAXED_COUNT, RELAXED_TIME, STRICT_TIME|-
|evalTrueSetting|int|optional|-|-|-
|evalTimeSetting|long|optional|-|-|-
|triggerMode|ModeMode|optional|-|- Allowable values:FIRE, SAFETY|-
|triggerId|string|optional|-|-|-
|evalTotalSetting|int|optional|-|-|-
|=======================


[[Tag]]
=== Tag
[options="header"]
|=======================
| name | type | required | access | description | notes
|category|string|optional|-|-|-
|visible|boolean|optional|-|-|-
|name|string|optional|-|-|-
|triggerId|string|optional|-|-|-
|=======================


[[Trigger]]
=== Trigger
[options="header"]
|=======================
| name | type | required | access | description | notes
|actions|SetSet|optional|-|-|-
|safetyEnabled|boolean|optional|-|-|-
|safetyMatch|MatchMatch|optional|-|- Allowable values:ALL, ANY|-
|description|string|optional|-|-|-
|name|string|optional|-|-|-
|firingMatch|MatchMatch|optional|-|- Allowable values:ALL, ANY|-
|enabled|boolean|optional|-|-|-
|id|string|optional|-|-|-
|=======================


